name: Create macOS Release Artifacts
description: Build macOS desktop app with Tauri

inputs:
  target:
    description: Build target architecture
    required: true
  release_id:
    description: GitHub release ID
    required: true
  github_token:
    description: GitHub token for uploading assets
    required: true
  tauri_private_key:
    description: Tauri private key for signing
    required: false
  tauri_key_password:
    description: Tauri key password
    required: false

runs:
  using: composite
  steps:
    - uses: actions/checkout@v6

    - uses: ./.github/actions/build-tauri-app
      with:
        target: ${{ inputs.target }}
        release_id: ${{ inputs.release_id }}
        include_updater_json: "true"
        github_token: ${{ inputs.github_token }}
        tauri_private_key: ${{ inputs.tauri_private_key }}
        tauri_key_password: ${{ inputs.tauri_key_password }}
        CI: false
